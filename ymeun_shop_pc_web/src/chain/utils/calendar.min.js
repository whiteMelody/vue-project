window.calendar=(function(){var f=navigator.userAgent.indexOf("MSIE")!=-1&&!window.opera;function l(v){return document.getElementById(v)}function g(v){return document.createElement(v)}var i=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448];var n="甲乙丙丁戊己庚辛壬癸";var o="子丑寅卯辰巳午未申酉戌亥";var j="鼠牛虎兔龙蛇马羊猴鸡狗猪";var m=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"];var s=[0,21208,43467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758];var t="日一二三四五六七八九十";var p=["正","二","三","四","五","六","七","八","九","十","十一","腊"];var r="初十廿卅";var c={"0101":"*1元旦节","0214":"情人节","0305":"学雷锋纪念日","0308":"妇女节","0312":"植树节","0315":"消费者权益日","0401":"愚人节","0501":"*1劳动节","0504":"青年节","0601":"国际儿童节","0701":"中国共产党诞辰","0801":"建军节","0910":"中国教师节","1001":"*3国庆节","1224":"平安夜","1225":"圣诞节"};var e={"0101":"*2春节","0115":"元宵节","0505":"*1端午节","0815":"*1中秋节","0909":"重阳节","1208":"腊八节","0100":"除夕"};var a=null;function d(x){function E(C,G){var J=new Date((31556925974.7*(C-1900)+s[G]*60000)+Date.UTC(1900,0,6,2,5));return(J.getUTCDate())}function D(C){var J,G=348;for(J=32768;J>8;J>>=1){G+=(i[C-1900]&J)?1:0}return(G+F(C))}function H(C){return(n.charAt(C%10)+o.charAt(C%12))}function F(C){if(z(C)){return((i[C-1900]&65536)?30:29)}else{return(0)}}function z(C){return(i[C-1900]&15)}function B(C,G){return((i[C-1900]&(65536>>G))?30:29)}function w(C){var J,K=0,L=0;var G=new Date(1900,0,31);var M=(C-G)/86400000;this.dayCyl=M+40;this.monCyl=14;for(J=1900;J<2050&&M>0;J++){L=D(J);M-=L;this.monCyl+=12}if(M<0){M+=L;J--;this.monCyl-=12}this.year=J;this.yearCyl=J-1864;K=z(J);this.isLeap=false;for(J=1;J<13&&M>0;J++){if(K>0&&J==(K+1)&&this.isLeap==false){--J;this.isLeap=true;L=F(this.year)}else{L=B(this.year,J)}if(this.isLeap==true&&J==(K+1)){this.isLeap=false}M-=L;if(this.isLeap==false){this.monCyl++}}if(M==0&&K>0&&J==K+1){if(this.isLeap){this.isLeap=false}else{this.isLeap=true;--J;--this.monCyl}}if(M<0){M+=L;--J;--this.monCyl}this.month=J;this.day=M+1}function I(C){return C<10?"0"+C:C}function A(G,C){var J=G;return C.replace(/dd?d?d?|MM?M?M?|yy?y?y?/g,function(L){switch(L){case"yyyy":var K="000"+J.getFullYear();return K.substring(K.length-4);case"dd":return I(J.getDate());case"d":return J.getDate().toString();case"MM":return I((J.getMonth()+1));case"M":return J.getMonth()+1}})}function v(G,J){var C;switch(G,J){case 10:C="初十";break;case 20:C="二十";break;case 30:C="三十";break;default:C=r.charAt(Math.floor(J/10));C+=t.charAt(J%10)}return(C)}this.date=x;this.isToday=false;this.isRestDay=false;this.solarYear=A(x,"yyyy");this.solarMonth=A(x,"M");this.solarDate=A(x,"d");this.solarWeekDay=x.getDay();this.solarWeekDayInChinese="星期"+t.charAt(this.solarWeekDay);var y=new w(x);this.lunarYear=y.year;this.shengxiao=j.charAt((this.lunarYear-4)%12);this.lunarMonth=y.month;this.lunarIsLeapMonth=y.isLeap;this.lunarMonthInChinese=this.lunarIsLeapMonth?"闰"+p[y.month-1]:p[y.month-1];this.lunarDate=y.day;this.showInLunar=this.lunarDateInChinese=v(this.lunarMonth,this.lunarDate);if(this.lunarDate==1){this.showInLunar=this.lunarMonthInChinese+"月"}this.ganzhiYear=H(y.yearCyl);this.ganzhiMonth=H(y.monCyl);this.ganzhiDate=H(y.dayCyl++);this.jieqi="";this.restDays=0;if(E(this.solarYear,(this.solarMonth-1)*2)==A(x,"d")){this.showInLunar=this.jieqi=m[(this.solarMonth-1)*2]}if(E(this.solarYear,(this.solarMonth-1)*2+1)==A(x,"d")){this.showInLunar=this.jieqi=m[(this.solarMonth-1)*2+1]}if(this.showInLunar=="清明"){this.showInLunar="清明节";this.restDays=1}this.solarFestival=c[A(x,"MM")+A(x,"dd")];if(typeof this.solarFestival=="undefined"){this.solarFestival=""}else{if(/\*(\d)/.test(this.solarFestival)){this.restDays=parseInt(RegExp.$1);this.solarFestival=this.solarFestival.replace(/\*\d/,"")}}this.showInLunar=(this.solarFestival=="")?this.showInLunar:this.solarFestival;this.lunarFestival=e[this.lunarIsLeapMonth?"00":I(this.lunarMonth)+I(this.lunarDate)];if(typeof this.lunarFestival=="undefined"){this.lunarFestival=""}else{if(/\*(\d)/.test(this.lunarFestival)){this.restDays=(this.restDays>parseInt(RegExp.$1))?this.restDays:parseInt(RegExp.$1);
this.lunarFestival=this.lunarFestival.replace(/\*\d/,"")}}if(this.lunarMonth==12&&this.lunarDate==B(this.lunarYear,12)){this.lunarFestival=e["0100"];this.restDays=1}this.showInLunar=(this.lunarFestival=="")?this.showInLunar:this.lunarFestival;this.showInLunar=(this.showInLunar.length>4)?this.showInLunar.substr(0,2)+"...":this.showInLunar}var h=(function(){var z={};z.lines=0;z.dateArray=new Array(42);function y(A){return(((A%4===0)&&(A%100!==0))||(A%400===0))}function v(B,A){return[31,(y(B)?29:28),31,30,31,30,31,31,30,31,30,31][A]}function x(B,A){B.setDate(B.getDate()+A);return B}function w(B){var C=0;var F=new d(new Date(B.solarYear,B.solarMonth-1,1));var E=(F.solarWeekDay-1==-1)?6:F.solarWeekDay-1;z.lines=Math.ceil((E+v(B.solarYear,B.solarMonth-1))/7);for(var D=0;D<z.dateArray.length;D++){if(F.restDays!=0){C=F.restDays}if(C>0){F.isRest=true}if(E-->0||F.solarMonth!=B.solarMonth){z.dateArray[D]=null;continue}var A=new d(new Date());if(F.solarYear==A.solarYear&&F.solarMonth==A.solarMonth&&F.solarDate==A.solarDate){F.isToday=true}z.dateArray[D]=F;F=new d(x(F.date,1));C--}}return{init:function(A){w(A)},getJson:function(){return z}}})();var b=(function(){var w,y,N,I,z,B,x;function K(){w=w||document.getElementById(a.yearSelectId);y=y||document.getElementById(a.monthSelectId);N=N||document.getElementById(a.heavenlyId);I=I||document.getElementById(a.branchId);z=z||document.getElementById(a.prevId);B=B||document.getElementById(a.nextId);x=x||document.getElementById(a.nowDateId);if(!a.isSelect){w.style.display="none";y.style.display="none"}if(!a.isHeavenlyBranch){N.style.display="none";I.style.display="none"}}function L(C){N.innerHTML=C.ganzhiYear;I.innerHTML=C.shengxiao}function J(C){w[C.solarYear-1901].selected=true;y[C.solarMonth-1].selected=true}function D(Q){var C=w.value;var P=y.value;var G=new d(new Date(C,P-1,1));h.init(G);k.draw();if(this==w||Q){G=new d(new Date(C,3,1));N.innerHTML=G.ganzhiYear;I.innerHTML=G.shengxiao}var O=new d(new Date());x.style.visibility=(C==O.solarYear&&P==O.solarMonth)?"hidden":"visible"}function A(){return{j:w.value,g:y.value}}function H(){var C=A(),O=false,G=--C.g;if(G===0){w.value=--C.j;y.value=12;O=true}else{w.value=C.j;y.value=G}D(O)}function M(){var C=A(),O=false,G=++C.g;if(G===13){w.value=++C.j;y.value=1;O=true}else{w.value=C.j;y.value=G}D(O)}function v(){var C=new d(new Date());L(C);J(C);h.init(C);k.draw();x.style.visibility="hidden"}function F(C,P){for(var G=1901;G<2050;G++){var O=g("OPTION");O.value=G;O.innerHTML=G;if(G==C){O.selected="selected"}w.appendChild(O)}for(var G=1;G<13;G++){var O=g("OPTION");O.value=G;O.innerHTML=G;if(G==P){O.selected="selected"}y.appendChild(O)}w.onchange=D;y.onchange=D;z.onclick=H;B.onclick=M}function E(C){F(C.solarYear,C.solarMonth);N.innerHTML=C.ganzhiYear;I.innerHTML=C.shengxiao;x.onclick=v;x.style.visibility="hidden"}return{init:function(C){K();E(C)},reset:function(C){K();J(C)}}})();var k=(function(){function v(){var z=h.getJson();var C=z.dateArray;l("cm").style.height=z.lines*40+2+"px";l("cm").innerHTML="";for(var x=0;x<C.length;x++){if(C[x]==null){continue}var B=g("DIV");if(C[x].isToday){B.style.cssText="background:#cde9d9;border-radius:50%;padding:5px 0;"}B.className="cell";B.style.left=(x%7)*60+"px";B.style.top=Math.floor(x/7)*40+2+"px";var w=g("DIV");w.className="so";w.style.color=((x%7)>4||C[x].isRest)?"#429e6c":"#666";w.innerHTML=C[x].solarDate;B.appendChild(w);var A=g("DIV");A.style.color="#888";A.innerHTML=C[x].showInLunar;B.appendChild(A);B.onmouseover=(function(D){return function(E){q.show({dateIndex:D,cell:this})}})(x);B.onmouseout=function(){q.hide()};B.onclick=(function(E,D){return function(F){q.click({dateIndex:E,cellClickCallback:D,cell:this})}})(x,a.cellClickCallback);l("cm").appendChild(B)}var y=g("DIV");y.id="fd";if(a.isShowFd){l("cm").appendChild(y)}q.init(y)}return{draw:function(){v()}}})();var q=(function(){var y;function x(D,F){if(arguments.length>1){var A=/([.*+?^=!:${}()|[\]\/\\])/g,C="{".replace(A,"\\$1"),E="}".replace(A,"\\$1");var B=new RegExp("#"+C+"([^"+C+E+"]+)"+E,"g");if(typeof(F)=="object"){return D.replace(B,function(I,G){var H=F[G];return typeof(H)=="undefined"?"":H})}}return D}function w(A){var B=h.getJson().dateArray[A.dateIndex];var C=A.cell;var D="#{solarYear} 年 #{solarMonth} 月 #{solarDate} 日 #{solarWeekDayInChinese}";D+="<br><b>农历 #{lunarMonthInChinese}月#{lunarDateInChinese}</b>";D+="<br>#{ganzhiYear}年 #{ganzhiMonth}月 #{ganzhiDate}日";if(B.solarFestival!=""||B.lunarFestival!=""||B.jieqi!=""){D+="<br><b>#{lunarFestival} #{solarFestival} #{jieqi}</b>"}y.innerHTML=x(D,B);y.style.top=C.offsetTop+C.offsetHeight-45+"px";y.style.left=C.offsetLeft+C.offsetWidth+10+"px";y.style.display="block"}function v(A){var C=A.cellClickCallback;var B=h.getJson().dateArray[A.dateIndex];if(typeof C==="function"){C(A.cell,B)}}function z(){y.style.display="none"}return{click:function(A){v(A)},show:function(A){w(A)},hide:function(){z()},init:function(A){y=A}}})();var u={cellClickCallback:function(v,w){return},yearSelectId:"year-select",monthSelectId:"month-select",heavenlyId:"heavenly",branchId:"branch",prevId:"prev",nextId:"next",nowDateId:"now-date",isSelect:true,isHeavenlyBranch:true,isShowFd:true};
return{init:function(w){a=Object.assign({},u,w);var v=new d(new Date());if(f){window.attachEvent("onload",function(){b.reset(v)})}b.init(v);h.init(v);k.draw()}}})();